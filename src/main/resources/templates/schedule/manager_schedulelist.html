<!DOCTYPE html>
<html 
lang="en" 
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
layout:decorate="~{layout/manager_layout.html}"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<title>테이블업 - 매니저페이지 - 매장 일정 관리</title>
</head>
<body>
	<main layout:fragment="content">
		<!-- 매장 정보가 등록이 되어 있으면-->
		<div th:if="${restaurant != null}">
		<h2>매장 일정 관리</h2>
   	<table class="table table-bordered text-center">
        <thead>
        <tr>
            <th>예약 시간</th>
            <th th:each="bd : ${opertimelist}"
                th:text="${#temporals.format(bd.bd_local_date, 'MM/dd (E)')}"
                th:classappend="${bd.bd_off} ? 'table-secondary' : ''">
                날짜
            </th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="res : ${restimelist}">
            <td th:text="${#dates.format(res.bh_start, 'HH:mm')}">시간</td>

            <td th:each="bd : ${opertimelist}">
                <span th:if="${!bd.bd_off}" th:each="bhd : ${teplatelist}">
                    좌석: <span th:text="${bhd.bhd_seat}"/> /
                    테이블: <span th:text="${bhd.bhd_table}"/>
                </span>
                <span th:if="${bd.bd_off}" class="text-danger fw-bold">쉬는 날</span>
            </td>
        </tr>
        </tbody>
    </table>
		</div>
		<!-- 매장 정보가 등록이 되어 있지 않으면-->
		<div th:unless="${restaurant != null}">
			<h3>아직 식당정보를 입력하지 않앗습니다.</h3>
		</div>
		<button type="button" class="btn btn-outline-success col-12 mb-3" onclick="location.href='/schedule/make_schetime'">일정등록</button>
	</main>
</body>
</html>