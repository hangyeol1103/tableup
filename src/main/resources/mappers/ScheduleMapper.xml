<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.kh.tableup.dao.ScheduleDAO">

	<select id="selectScheduleOperTimeList" resultType="BusinessDateVO">
		select * from businessdate where bd_rt_num=#{rt_num} and bd_date like concat(#{date},"%") order by bd_date desc
	</select>

	<select id="selectOperTimeByDay" resultType="BusinessDateVO">
		SELECT * 
		FROM businessdate 
		WHERE bd_date BETWEEN CONCAT(#{date}, ' 00:00:00') 
										AND CONCAT(#{date}, ' 23:59:59')
	</select>

	<select id="selectResTime" resultType="BusinessHourVO">
		select * from businesshour 
		where bh_rt_num=#{rt_num} and bh_start between #{startDate} and #{endDate}
	</select>

	<select id="selectResTimeDetail" resultType="BusinessHourVO">
		select * from businesshour
		where bh_rt_num=#{rt_num} and bh_start=#{dateTime}
	</select>

	<!--  -->
	<update id="updateBdOff">
		update businessdate set
			bd_off = #{bd_off}
		where date(bd_date) = #{bd_date}
	</update>

	
</mapper>