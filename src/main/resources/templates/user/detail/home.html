<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"

>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="text/javascript" src="//code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!--  Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <!--  Flatpickr CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <!--  Flatpickr JS + 한글 -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

    <title>식당 리스트</title>
   <style>
    .restaurant-features {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .facility-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 80px;
      margin: 10px;
    }

    .facility-icon {
      width: 80px; height: 80px; overflow: hidden;
      background-image: url(/resources/static/img/facility/facility.jpg);
      display: inline-block;
    }

    .facility-name {
      margin-top: 8px;
      font-size: 14px;
      color: #222;
    }

    .facility-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 10px;
      border-top: 1px solid #ddd;
    }

    .facility-header {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 15px;
      color: #333;
      padding: 8px;
      border-bottom: 1px solid #ddd;
    }

    .check-icon {
      color: #186ADE;
    }

    .dropdown-icon {
      margin-left: auto;
      color: #9E9E9E;
    }

    .drop-icon {
      margin-left: auto;
      color: #9E9E9E;
    }

    .facility-detail {
      display: none;
      background-color: #f5f5f5; /* 밝은 회색 배경 */
      padding: 16px;
      font-size: 14px;
      color: #333;
      border-bottom: 1px solid #ddd;
    }

    .facility-detail .detail-icon {
      margin-right: 8px;
      color: #666;
    }
  </style>
  </head>

  <body>
    <img
      src="/resources/static/img/index/index4.jpg"
      class="img-fluid rounded-4 shadow-sm"
      style="
        width: 100%;
        height: 400px;
        object-fit: cover;
        margin-bottom: 10px;
      "
    />
    <ul class="list-group bg-white rounded shadow-sm p-3">
      <li class="list-group-item border-0 ps-3 fw-bold py-0">
        <span class="text-secondary">
          <span th:text="${foodCategory.fc_main}"></span>&nbsp;|
          <span th:text="${detailFoodCategory.dfc_sub}"></span>&nbsp;|
          <span th:if="${tag != null}" th:text="${tag.tag_name}"
            >태그</span
          >
          <span th:unless="${tag != null}">태그 없음</span>
        </span>
      </li>
      <li
        class="list-group-item border-0 ps-3 fw-bold py-0 fs-5"
        th:text="${restaurant.rt_name}"
      ></li>
      <input type="hidden" id="rt-num" th:value="${restaurant.rt_num}" />
      <li class="list-group-item border-0 ps-3 fw-bold py-0">
        ⭐️ 4.7 • 리뷰 123개 >
      </li>
      <li
        class="list-group-item border-0 ps-3 py-0"
        th:text="${restaurant.rt_description}"
      ></li>
      <hr class="my-2 border-secondary" />
      <li class="list-group-item border-0 d-flex align-items-center">
        <i class="bi bi-geo-alt me-2 text-secondary"></i>
        위치 :&nbsp
        <span th:text="${restaurant.rd_addr}"></span>
      </li>
      <li class="list-group-item border-0 d-flex align-items-center">
        <i class="bi bi-cash-coin me-2 text-secondary"></i>
        가격 = 점심 :&nbsp;
        <span th:text="${restaurant.rt_price_lunch}"></span>원 / 저녁
        :&nbsp; <span th:text="${restaurant.rt_price_dinner}"></span>원
      </li>
      <li class="list-group-item border-0 d-flex align-items-center">
        <i class="bi bi-clock me-2 text-secondary"></i>
        휴무일 :&nbsp<span
          th:text="${restaurant.rt_closed_days}"
        ></span>
        &nbsp;&nbsp;&nbsp;
        <i class="bi bi-clock me-2 text-secondary"></i>
        영업시간 : 오늘 (월) · 17:00 ~ 새벽 02:00
      </li>
      <li class="list-group-item border-0 d-flex align-items-center">
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 12px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="font-size: 12px; margin-right: 16px"
        >
          오늘 (요)<br />
          예약 가능
        </button>
      </li>
    </ul>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">공지사항></h5>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">편의시설</h5>
      <div class="section-body">
        <div class="restaurant-features mb-20">
          <div class="facility-box text-center" th:each="rf : ${restaurantFacilityList}">
            <i class="facility-icon" th:alt="${rf.rf_detail != null ? rf.rf_detail : '편의시설'}"
              th:style="'background-position: '+${rf.facility.fa_icon}+'; margin: 4px;'"></i>
            <span class="facility-name" th:text="${rf.facility.fa_name}"></span>
          </div>
        </div>
        <div class="facility-list ml-20 mr-20">
          <div th:each="rf : ${restaurantFacilityList}">
            <div class="facility-header">
              <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                color="#186ADE" style="margin-right: 4px;"><path fill-rule="evenodd" clip-rule="evenodd"
                d="M9.92115 14.9979L17.8647 7.08203L19.1353 8.35705L10.5453 16.917C10.3747 17.0871 10.1431 17.1816 9.9022 17.1795C9.66135 17.1774 9.43139 17.0789 9.26376 16.9059L4.85376 12.3559L6.14628 11.1032L9.92115 14.9979Z"
                fill="currentColor"></path>
              </svg>

              <span class="facility-title" th:text="${rf.facility.fa_title}"></span>

              <svg class="drop-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                color="#9E9E9E"><path fill-rule="evenodd" clip-rule="evenodd"
                d="M11.9999 14.7274L6.63632 9.36377L5.36353 10.6366L11.3635 16.6366C11.715 16.988 12.2848 16.988 12.6363 16.6366L18.6363 10.6366L17.3635 9.36377L11.9999 14.7274Z"
                fill="currentColor"></path>
              </svg>
            </div>
            <div class="facility-detail" style="display: none;">
              <p th:text="${rf.rf_detail}"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">지도 API</h5>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">메뉴</h5>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">식당 사진</h5>
      <div class="restaurant-pictures">
        
      </div>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">리뷰</h5>
    </div>
    <div class="mt-3 p-3 bg-white rounded shadow-sm">
      <h5 class="fw-bold">상세정보</h5>
      <i class="bi bi-telephone me-2 text-secondary"></i>
      <span th:text="${restaurant.rd_phone}"></span>
      <h5 class="fw-bold mt-3">안내 및 유의사항</h5>
      <h6>예약 확정 전 필수 체크사항 및 확인 부탁드립니다.</h6>
      <span th:text="${restaurant.rd_info}"></span>
      <div class="d-grid mt-3">
        <button
          type="button"
          class="btn btn-outline-dark btn-block fw-bold"
        >
          매장정보 전체보기
        </button>
      </div>
    </div>

    <script>
      $(function() {
        $(".facility-header").on("click", function () {
          $(this).next(".facility-detail").slideToggle(200); // 부드럽게 토글
        });
      });
    </script>

  </body>
</html>
